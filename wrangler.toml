name = "bulk-mailer-pages"
type = "javascript"
main = "dist/index.html"
compatibility_date = "2024-12-16"

# Build configuration for Cloudflare Pages
[build]
command = "cd frontend && npm ci && npm run build"
watch_paths = ["frontend/src/**/*.{jsx,js,css}"]

# Deploy command for Pages (no-op since build output is deployed automatically)
deploy_command = "echo 'Deploying to Cloudflare Pages'"

# Assets configuration
[build.upload]
format = "service-worker"

# Routes configuration
[[routes]]
pattern = "*"
zone_name = ""

# Environment variables (can be set in Cloudflare dashboard)
[env.production]
name = "bulk-mailer-pages-prod"
vars = { ENVIRONMENT = "production" }

[env.staging]
name = "bulk-mailer-pages-staging"
vars = { ENVIRONMENT = "staging" }
